<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detection Result - Crop Disease Detector</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üåæ</span>
                    <div>
                        <h1>AI Crop Disease Detector</h1>
                        <p>Empowering Indian Farmers</p>
                    </div>
                </div>
                
                <div class="language-selector">
                    <button class="lang-btn {% if lang == 'english' %}active{% endif %}" data-lang="english">English</button>
                    <button class="lang-btn {% if lang == 'hindi' %}active{% endif %}" data-lang="hindi">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
                    <button class="lang-btn {% if lang == 'telugu' %}active{% endif %}" data-lang="telugu">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <div class="content-card">
                <!-- Result Header -->
                <div class="result-header">
                    <h2>
                        {% if lang == 'telugu' %}
                            ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞™‡±Å ‡∞´‡∞≤‡∞ø‡∞§‡∞Ç
                        {% elif lang == 'hindi' %}
                            ‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ
                        {% else %}
                            Disease Detection Result
                        {% endif %}
                    </h2>
                </div>

                <!-- Result Content -->
                <div class="result-content">
                    <!-- Uploaded Image -->
                    <div class="result-image">
                        <h3 style="color: var(--primary-green); margin-bottom: 15px;">
                            {% if lang == 'telugu' %}
                                ‡∞Ö‡∞™‡±ç‚Äå‡∞≤‡±ã‡∞°‡±ç ‡∞ö‡±á‡∞∏‡∞ø‡∞® ‡∞´‡±ã‡∞ü‡±ã
                            {% elif lang == 'hindi' %}
                                ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡•Ä ‡§ó‡§à ‡§´‡•ã‡§ü‡•ã
                            {% else %}
                                Uploaded Photo
                            {% endif %}
                        </h3>
                        <img src="{{ url_for('static', filename='uploads/' + image_filename) }}" alt="Uploaded leaf">
                    </div>

                    <!-- Detection Details -->
                    <div class="result-details">
                        {% if prediction.is_healthy %}
                            <!-- Healthy Plant -->
                            <div class="disease-info">
                                <div style="text-align: center; padding: 30px;">
                                    <div style="font-size: 5rem; margin-bottom: 20px;">‚úÖ</div>
                                    <h2 class="disease-name" style="color: #2e7d32;">
                                        {% if lang == 'telugu' %}
                                            ‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞ï‡∞∞‡∞Æ‡±à‡∞® ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï!
                                        {% elif lang == 'hindi' %}
                                            ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§™‡•å‡§ß‡§æ!
                                        {% else %}
                                            Healthy Plant!
                                        {% endif %}
                                    </h2>
                                    <p style="font-size: 1.2rem; color: #666;">
                                        {% if lang == 'telugu' %}
                                            ‡∞Æ‡±Ä ‡∞™‡∞Ç‡∞ü ‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø‡∞Ç‡∞ó‡∞æ ‡∞ï‡∞®‡∞ø‡∞™‡∞ø‡∞∏‡±ç‡∞§‡±ã‡∞Ç‡∞¶‡∞ø. ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø ‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡±Å ‡∞ï‡∞®‡∞ø‡∞™‡∞ø‡∞Ç‡∞ö‡∞≤‡±á‡∞¶‡±Å.
                                        {% elif lang == 'hindi' %}
                                            ‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§∏‡•ç‡§µ‡§∏‡•ç‡§• ‡§¶‡§ø‡§ñ‡§§‡•Ä ‡§π‡•à‡•§ ‡§ï‡•ã‡§à ‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•á‡•§
                                        {% else %}
                                            Your crop looks healthy. No disease symptoms detected.
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                        {% else %}
                            <!-- Disease Detected -->
                            <div class="disease-info">
                                <h2 class="disease-name">
                                    {% if translations and translations.diseases and prediction.disease in translations.diseases %}
                                        {{ translations.diseases[prediction.disease][lang] }}
                                    {% else %}
                                        {{ prediction.disease|title }}
                                    {% endif %}
                                </h2>
                                
                                <p class="crop-name">
                                    {% if lang == 'telugu' %}
                                        ‡∞™‡∞Ç‡∞ü:
                                    {% elif lang == 'hindi' %}
                                        ‡§´‡§∏‡§≤:
                                    {% else %}
                                        Crop:
                                    {% endif %}
                                    {% if translations and translations.crops and prediction.crop in translations.crops %}
                                        {{ translations.crops[prediction.crop][lang] }}
                                    {% else %}
                                        {{ prediction.crop|title }}
                                    {% endif %}
                                </p>

                                <!-- Confidence Meter -->
                                <div class="confidence-meter">
                                    <label>
                                        {% if lang == 'telugu' %}
                                            ‡∞µ‡∞ø‡∞∂‡±ç‡∞µ‡∞æ‡∞∏ ‡∞∏‡±ç‡∞•‡∞æ‡∞Ø‡∞ø
                                        {% elif lang == 'hindi' %}
                                            ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§∏‡•ç‡§§‡§∞
                                        {% else %}
                                            Confidence Level
                                        {% endif %}
                                    </label>
                                    <div class="meter-bar">
                                        <div class="meter-fill" data-confidence="{{ prediction.confidence }}" style="width: 0%;">
                                            {{ prediction.confidence|round(1) }}%
                                        </div>
                                    </div>
                                </div>

                                <!-- Severity Badge -->
                                <div style="margin: 20px 0;">
                                    <span class="severity-badge severity-{{ prediction.severity }}">
                                        {% if lang == 'telugu' %}
                                            {% if prediction.severity == 'mild' %}‡∞∏‡±ç‡∞µ‡∞≤‡±ç‡∞™ ‡∞§‡±Ä‡∞µ‡±ç‡∞∞‡∞§
                                            {% elif prediction.severity == 'moderate' %}‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞• ‡∞§‡±Ä‡∞µ‡±ç‡∞∞‡∞§
                                            {% elif prediction.severity == 'severe' %}‡∞Ö‡∞ß‡∞ø‡∞ï ‡∞§‡±Ä‡∞µ‡±ç‡∞∞‡∞§
                                            {% endif %}
                                        {% elif lang == 'hindi' %}
                                            {% if prediction.severity == 'mild' %}‡§π‡§≤‡•ç‡§ï‡•Ä ‡§ó‡§Ç‡§≠‡•Ä‡§∞‡§§‡§æ
                                            {% elif prediction.severity == 'moderate' %}‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§ó‡§Ç‡§≠‡•Ä‡§∞‡§§‡§æ
                                            {% elif prediction.severity == 'severe' %}‡§ó‡§Ç‡§≠‡•Ä‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø
                                            {% endif %}
                                        {% else %}
                                            {{ prediction.severity|title }} Severity
                                        {% endif %}
                                    </span>
                                </div>

                                <!-- Warning for Low Confidence -->
                                {% if prediction.confidence < 70 %}
                                <div class="alert alert-info active" style="margin: 20px 0;">
                                    ‚ö†Ô∏è
                                    {% if lang == 'telugu' %}
                                        ‡∞µ‡∞ø‡§∂‡±ç‡∞µ‡∞æ‡∞∏ ‡∞∏‡±ç‡∞•‡∞æ‡∞Ø‡∞ø ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞§ ‡∞ñ‡∞ö‡±ç‡∞ö‡∞ø‡∞§‡∞§‡±ç‡∞µ‡∞Ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø ‡∞®‡∞ø‡∞™‡±Å‡∞£‡±Å‡∞°‡∞ø‡∞®‡∞ø ‡∞∏‡∞Ç‡∞™‡±ç‡∞∞‡∞¶‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.
                                    {% elif lang == 'hindi' %}
                                        ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§∏‡•ç‡§§‡§∞ ‡§ï‡§Æ ‡§π‡•à‡•§ ‡§Ö‡§ß‡§ø‡§ï ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§∑‡§ø ‡§µ‡§ø‡§∂‡•á‡§∑‡§ú‡•ç‡§û ‡§∏‡•á ‡§∏‡§≤‡§æ‡§π ‡§≤‡•á‡§Ç‡•§
                                    {% else %}
                                        Low confidence detected. Please consult an agricultural expert for confirmation.
                                    {% endif %}
                                </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Treatment Section -->
                {% if treatment and not prediction.is_healthy %}
                <div class="treatment-section">
                    <h3>
                        <span>üíä</span>
                        {% if lang == 'telugu' %}
                            ‡∞ö‡∞ø‡∞ï‡∞ø‡∞§‡±ç‡∞∏ ‡∞∏‡±Ç‡∞ö‡∞®‡∞≤‡±Å
                        {% elif lang == 'hindi' %}
                            ‡§â‡§™‡§ö‡§æ‡§∞ ‡§∏‡§≤‡§æ‡§π
                        {% else %}
                            Treatment Recommendations
                        {% endif %}
                    </h3>
                    <div class="treatment-content">
                        {{ treatment|safe }}
                    </div>
                </div>
                {% elif prediction.is_healthy %}
                <!-- Prevention Tips for Healthy Plants -->
                <div class="treatment-section">
                    <h3>
                        <span>üõ°Ô∏è</span>
                        {% if lang == 'telugu' %}
                            ‡∞®‡∞ø‡∞µ‡∞æ‡∞∞‡∞£ ‡∞ö‡∞ø‡∞ü‡±ç‡∞ï‡∞æ‡∞≤‡±Å
                        {% elif lang == 'hindi' %}
                            ‡§∞‡•ã‡§ï‡§•‡§æ‡§Æ ‡§Ø‡•Å‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å
                        {% else %}
                            Prevention Tips
                        {% endif %}
                    </h3>
                    <div class="treatment-content">
                        <ul>
                            <li>
                                {% if lang == 'telugu' %}
                                    ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤‡∞ï‡±Å ‡∞ï‡±ç‡∞∞‡∞Æ‡∞Ç ‡∞§‡∞™‡±ç‡∞™‡∞ï‡±Å‡∞Ç‡∞°‡∞æ ‡∞®‡±Ä‡∞∞‡±Å ‡∞™‡±ã‡∞Ø‡∞Ç‡∞°‡∞ø ‡∞ï‡∞æ‡∞®‡±Ä ‡∞Ö‡∞§‡∞ø‡∞ó‡∞æ ‡∞™‡±ã‡∞Ø‡∞µ‡∞¶‡±ç‡∞¶‡±Å
                                {% elif lang == 'hindi' %}
                                    ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§™‡§æ‡§®‡•Ä ‡§¶‡•á‡§Ç ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§ß‡§ø‡§ï ‡§® ‡§¶‡•á‡§Ç
                                {% else %}
                                    Water plants regularly but avoid overwatering
                                {% endif %}
                            </li>
                            <li>
                                {% if lang == 'telugu' %}
                                    ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤ ‡∞Æ‡∞ß‡±ç‡∞Ø ‡∞§‡∞ó‡∞ø‡∞®‡∞Ç‡∞§ ‡∞Ö‡∞Ç‡∞§‡∞∞‡∞Ç ‡∞â‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø
                                {% elif lang == 'hindi' %}
                                    ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§¶‡•Ç‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç
                                {% else %}
                                    Maintain proper spacing between plants
                                {% endif %}
                            </li>
                            <li>
                                {% if lang == 'telugu' %}
                                    ‡∞µ‡∞æ‡∞∞‡∞Ç‡∞≤‡±ã ‡∞∞‡±Ü‡∞Ç‡∞°‡±Å‡∞∏‡∞æ‡∞∞‡±ç‡∞≤‡±Å ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤‡∞®‡±Å ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø
                                {% elif lang == 'hindi' %}
                                    ‡§∏‡§™‡•ç‡§§‡§æ‡§π ‡§Æ‡•á‡§Ç ‡§¶‡•ã ‡§¨‡§æ‡§∞ ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç
                                {% else %}
                                    Inspect plants twice weekly for early detection
                                {% endif %}
                            </li>
                            <li>
                                {% if lang == 'telugu' %}
                                    ‡∞∏‡±á‡∞Ç‡∞¶‡±ç‡∞∞‡±Ä‡∞Ø ‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤‡±Å ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø
                                {% elif lang == 'hindi' %}
                                    ‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡§æ‡§¶ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç
                                {% else %}
                                    Use organic fertilizers for plant health
                                {% endif %}
                            </li>
                        </ul>
                    </div>
                </div>
                {% endif %}

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button onclick="scanAnotherLeaf()" class="btn btn-primary">
                        <span>üîÑ</span>
                        {% if lang == 'telugu' %}
                            ‡∞Æ‡∞∞‡±ã ‡∞Ü‡∞ï‡±Å‡∞®‡±Å ‡∞∏‡±ç‡∞ï‡∞æ‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø
                        {% elif lang == 'hindi' %}
                            ‡§¶‡•Ç‡§∏‡§∞‡•Ä ‡§™‡§§‡•ç‡§§‡•Ä ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç
                        {% else %}
                            Scan Another Leaf
                        {% endif %}
                    </button>
                    
                    <button onclick="window.location.href='/'" class="btn btn-secondary">
                        <span>üè†</span>
                        {% if lang == 'telugu' %}
                            ‡∞π‡±ã‡∞Æ‡±ç‚Äå‡∞ï‡∞ø ‡∞µ‡±Ü‡∞≥‡±ç‡∞≤‡∞Ç‡∞°‡∞ø
                        {% elif lang == 'hindi' %}
                            ‡§π‡•ã‡§Æ ‡§™‡§∞ ‡§ú‡§æ‡§è‡§Ç
                        {% else %}
                            Go to Home
                        {% endif %}
                    </button>
                    
                    <button onclick="downloadReport()" class="btn btn-secondary">
                        <span>üì•</span>
                        {% if lang == 'telugu' %}
                            ‡∞®‡∞ø‡∞µ‡±á‡∞¶‡∞ø‡∞ï‡∞®‡±Å ‡∞°‡±å‡∞®‡±ç‚Äå‡∞≤‡±ã‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø
                        {% elif lang == 'hindi' %}
                            ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç
                        {% else %}
                            Download Report
                        {% endif %}
                    </button>
                    
                    <button onclick="shareResult()" class="btn btn-secondary">
                        <span>üì§</span>
                        {% if lang == 'telugu' %}
                            ‡∞∑‡±á‡∞∞‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø
                        {% elif lang == 'hindi' %}
                            ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç
                        {% else %}
                            Share
                        {% endif %}
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>
                {% if lang == 'telugu' %}
                    ‡∞≠‡∞æ‡∞∞‡∞§‡±Ä‡∞Ø ‡∞∞‡±à‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞∏‡∞æ‡∞ß‡∞ø‡∞ï‡∞æ‡∞∞‡∞§ ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç
                {% elif lang == 'hindi' %}
                    ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ
                {% else %}
                    Empowering Indian Farmers
                {% endif %}
            </p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
